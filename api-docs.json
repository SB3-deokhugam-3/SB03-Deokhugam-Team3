{
  "openapi": "3.1.0",
  "info": {
    "title": "Deokhugam API",
    "description": "Deokhugam API 문서",
    "version": "v1.0"
  },
  "servers": [
    {
      "url": "http://localhost:8081",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "알림 관리",
      "description": "알림 관련 API"
    },
    {
      "name": "도서 관리",
      "description": "도서 관련 API"
    },
    {
      "name": "댓글 관리",
      "description": "댓글 관련 API"
    },
    {
      "name": "사용자 관리",
      "description": "사용자 관련 API"
    },
    {
      "name": "리뷰 관리",
      "description": "리뷰 관련 API"
    }
  ],
  "paths": {
    "/api/users": {
      "post": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "회원가입",
        "description": "새로운 사용자를 등록합니다.",
        "operationId": "register",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "회원가입 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "409": {
            "description": "이메일 중복",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/login": {
      "post": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "로그인",
        "description": "사용자 로그인을 처리합니다.",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "로그인 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "401": {
            "description": "로그인 실패 (이메일 또는 비밀번호 불일치)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews": {
      "get": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 목록 조회",
        "description": "검색 조건에 맞는 리뷰 목록을 조회합니다.",
        "operationId": "searchReviews",
        "parameters": [
          {
            "name": "reviewGetRequest",
            "in": "query",
            "description": "인기 리뷰 목록 조회용 DTO<br>\n- **period**: 랭킹 기간 (DAILY, WEEKLY, MONTHLY, ALL_TIME, 기본값: DAILY)<br>\n- **direction**: 정렬 방향 (ASC, DESC, 기본값: ASC)<br>\n- **cursor**: 커서 페이지네이션을 위한 커서<br>\n- **after**: createdAt 기준 보조 커서<br>\n- **limit**: 페이지 크기 (기본값: 50)\n",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ReviewGetRequest"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "리뷰 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (정렬 방향 오류, 페이지네이션 파라미터 오류, 리뷰 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 등록",
        "description": "새로운 리뷰를 등록합니다.",
        "operationId": "createReview",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "리뷰 등록 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewDto"
                }
              }
            }
          },
          "409": {
            "description": "이미 작성된 리뷰 존재",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/reviews/{reviewId}/like": {
      "post": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 좋아요",
        "description": "리뷰에 좋아요를 추가하거나 취소합니다.",
        "operationId": "likeReview",
        "parameters": [
          {
            "name": "reviewId",
            "in": "path",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "리뷰 좋아요 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewLikeDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/comments": {
      "get": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "리뷰 댓글 목록 조회",
        "description": "특정 리뷰에 달린 댓글 목록을 시간순으로 조회합니다.",
        "operationId": "getCommentsByReviewId",
        "parameters": [
          {
            "name": "reviewId",
            "in": "query",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "커서 페이지네이션 커서",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "after",
            "in": "query",
            "description": "보조 커서(createdAt)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "direction",
            "in": "query",
            "description": "정렬 방향",
            "required": false,
            "schema": {
              "type": "string",
              "default": "DESC"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지 크기",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "댓글 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CommentDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (정렬 방향 오류, 페이지네이션 파라미터 오류, 리뷰 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "댓글 등록",
        "description": "새로운 댓글을 등록합니다.",
        "operationId": "createComment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "댓글 등록 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CommentDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/books": {
      "get": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 목록 조회",
        "description": "검색 조건에 맞는 도서 목록을 조회합니다.",
        "operationId": "getBooks",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "도서 제목| 저자 | ISBN",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "자바의 정석"
          },
          {
            "name": "orderBy",
            "in": "query",
            "description": "정렬 기준(title| publishedDate | rating | reviewCount",
            "required": false,
            "schema": {
              "type": "string",
              "default": "title"
            },
            "example": "title"
          },
          {
            "name": "direction",
            "in": "query",
            "description": "정렬 방향 (ASC or DESC)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "DESC"
            },
            "example": "DESC"
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "커서 페이지네이션 커서",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "after",
            "in": "query",
            "description": "보조 커서(createdAt)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지 크기",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            },
            "example": 50
          }
        ],
        "responses": {
          "200": {
            "description": "도서 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청(정렬 기준 오류, 페이지네이션 파라미터 오류 등)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 등록",
        "description": "새로운 도서를 등록합니다.",
        "operationId": "create",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookData": {
                    "$ref": "#/components/schemas/BookCreateRequest"
                  },
                  "thumbnailImage": {
                    "type": "string",
                    "format": "binary",
                    "description": "도서 썸네일 이미지"
                  }
                },
                "required": [
                  "bookData"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "도서 등록 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BookDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청(입력값 검증 실패, ISBN 형식 오류 등)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "ISBN 중복",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/books/isbn/ocr": {
      "post": {
        "tags": [
          "도서 관리"
        ],
        "summary": "이미지 기반 ISBN 인식",
        "description": "도서 이미지를 통해 ISBN을 인식합니다.",
        "operationId": "extractIsbnFromImage",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "도서 이미지"
                  }
                },
                "required": [
                  "image"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "ISBN 인식 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "성공 예시": {
                    "summary": "ISBN 번호 예시",
                    "description": "성공 예시",
                    "value": 9788968481901
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 이미지 형식 또는 OCR 인식 실패",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}": {
      "get": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "사용자 상세 정보 조회",
        "description": "사용자 ID로 상세 정보를 조회합니다.",
        "operationId": "getUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "사용자 정보 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "404": {
            "description": "사용자 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "사용자 논리 삭제",
        "description": "본인이 작성한 사용자을 논리적으로 삭제합니다.",
        "operationId": "deleteUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "사용자 삭제 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "404": {
            "description": "사용자 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "403": {
            "description": "사용자 삭제 권한 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "사용자 정보 수정",
        "description": "사용자의 닉네임을 수정합니다.",
        "operationId": "updateUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "사용자 정보 수정 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "404": {
            "description": "사용자 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "403": {
            "description": "사용자 정보 수정 권한 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/reviews/{reviewId}": {
      "get": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 상세 정보 조회",
        "description": "리뷰 ID로 상세 정보를 조회합니다.",
        "operationId": "getReview",
        "parameters": [
          {
            "name": "reviewId",
            "in": "path",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "리뷰 정보 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 논리 삭제",
        "description": "본인이 작성한 리뷰을 논리적으로 삭제합니다.",
        "operationId": "deleteReview",
        "parameters": [
          {
            "name": "reviewId",
            "in": "path",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "리뷰 삭제 성공"
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)"
          },
          "404": {
            "description": "리뷰 정보 없음"
          },
          "403": {
            "description": "리뷰 삭제 권한 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 수정",
        "description": "본인이 작성한 리뷰을 수정합니다.",
        "operationId": "updateReview",
        "parameters": [
          {
            "name": "reviewId",
            "in": "path",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "리뷰 수정 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패, 요청자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "리뷰 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "리뷰 수정 권한 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/notifications/{notificationId}": {
      "patch": {
        "tags": [
          "알림 관리"
        ],
        "summary": "알림 읽음 상태 업데이트",
        "description": "특정 알림의 읽음 상태를 업데이트합니다.",
        "operationId": "updateNotification",
        "parameters": [
          {
            "name": "notificationId",
            "in": "path",
            "description": "알림 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "403": {
            "description": "알림 수정 권한 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          },
          "200": {
            "description": "알림 상태 업데이트 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패, 요청자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "알림 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/read-all": {
      "patch": {
        "tags": [
          "알림 관리"
        ],
        "summary": "모든 알림 읽음 처리",
        "description": "사용자의 모든 알림을 읽음 상태로 처리합니다.",
        "operationId": "markAllAsRead",
        "parameters": [
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "알림 읽음 처리 성공"
          },
          "400": {
            "description": "잘못된 요청 (사용자 ID 누락)"
          },
          "404": {
            "description": "사용자 정보 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    },
    "/api/comments/{commentId}": {
      "get": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "댓글 상세 정보 조회",
        "description": "특정 댓글의 상세 정보를 조회합니다.",
        "operationId": "getComment",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "댓글 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "댓글 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CommentDto"
                }
              }
            }
          },
          "404": {
            "description": "댓글 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "댓글 논리 삭제",
        "description": "본인이 작성한 댓글을 논리적으로 삭제합니다.",
        "operationId": "deleteComment",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "댓글 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "댓글 삭제 성공"
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)"
          },
          "404": {
            "description": "댓글 정보 없음"
          },
          "403": {
            "description": "댓글 삭제 권한 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "댓글 수정",
        "description": "본인이 작성한 댓글을 수정합니다.",
        "operationId": "updateComment",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "댓글 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "댓글 수정 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CommentDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력값 검증 실패, 요청자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "댓글 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "댓글 수정 권한 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/books/{bookId}": {
      "get": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 정보 상세 조회",
        "description": "도서 상세 정보 조회",
        "operationId": "getBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "도서 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "9a4d6e2b-8f53-4c8c-a7c7-21d5079b8b37"
          }
        ],
        "responses": {
          "200": {
            "description": "도서 정보 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BookDto"
                }
              }
            }
          },
          "404": {
            "description": "도서 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 논리 삭제",
        "description": "도서를 논리적으로 삭제합니다.",
        "operationId": "delete",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "도서 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "9a4d6e2b-8f53-4c8c-a7c7-21d5079b8b37"
          }
        ],
        "responses": {
          "204": {
            "description": "도서 삭제 성공"
          },
          "404": {
            "description": "도서 정보 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      },
      "patch": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 정보 수정",
        "description": "도서 정보를 수정합니다.",
        "operationId": "update",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "도서 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "9a4d6e2b-8f53-4c8c-a7c7-21d5079b8b37"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookData": {
                    "$ref": "#/components/schemas/BookUpdateRequest"
                  },
                  "thumbnailImage": {
                    "type": "string",
                    "format": "binary",
                    "description": "수정할 도서 썸네일 이미지"
                  }
                },
                "required": [
                  "bookData"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "도서 정보 수정 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BookDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청(입력값 검증 실패, ISBN 형식 오류 등)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "도서 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "ISBN 중복",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/power": {
      "get": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "인기 사용자 목록 조회",
        "description": "기간별 인기 사용자 목록을 조회합니다",
        "operationId": "getPopularUsers",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "description": "랭킹 기간",
            "required": false,
            "schema": {
              "type": "string",
              "default": "DAILY",
              "enum": [
                "DAILY",
                "WEEKLY",
                "MONTHLY",
                "ALL_TIME"
              ]
            }
          },
          {
            "name": "direction",
            "in": "query",
            "description": "정렬 방향",
            "required": false,
            "schema": {
              "type": "string",
              "default": "ASC"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "커서 페이지네이션 커서",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "after",
            "in": "query",
            "description": "보조 커서(createdAt)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지 크기",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50,
              "maximum": 100,
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "인기 사용자 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PopularReviewDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (랭킹 기간 오류, 정렬 방향 오류)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PopularReviewDto"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PopularReviewDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews/popular": {
      "get": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "인기 리뷰 목록 조회",
        "description": "기간별 인기 리뷰 목록을 조회합니다",
        "operationId": "getPopularReviews",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "description": "랭킹 기간",
            "required": false,
            "schema": {
              "type": "string",
              "default": "DAILY",
              "enum": [
                "DAILY",
                "WEEKLY",
                "MONTHLY",
                "ALL_TIME"
              ]
            }
          },
          {
            "name": "direction",
            "in": "query",
            "description": "정렬 방향",
            "required": false,
            "schema": {
              "type": "string",
              "default": "ASC"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "커서 페이지네이션 커서",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "after",
            "in": "query",
            "description": "보조 커서(createdAt)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지 크기",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50,
              "maximum": 100,
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "인기 리뷰 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PopularReviewDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (랭킹 기간 오류, 정렬 방향 오류)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications": {
      "get": {
        "tags": [
          "알림 관리"
        ],
        "summary": "알림 목록 조회",
        "description": "사용자의 알림 목록을 조회합니다.",
        "operationId": "getNotifications",
        "parameters": [
          {
            "name": "request",
            "in": "query",
            "description": "사용자 알림 목록 조회용 DTO<br>\n- **userId**: 사용자 ID<br>\n- **direction**: 정렬 방향 (ASC, DESC, 기본값: DESC)<br>\n- **cursor**: 커서 페이지네이션을 커서<br>\n- **after**: createdAt 기준 보조 커서<br>\n- **limit**: 페이지 크기 (기본값: 20)\n",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/NotificationGetRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "알림 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (정렬 방향 오류, 페이지네이션 파라미터 오류, 사용자 ID 누락)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "사용자 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/books/popular": {
      "get": {
        "tags": [
          "도서 관리"
        ],
        "summary": "인기 도서 목록 조회",
        "description": "기간별 인기 도서 목록을 조회합니다.",
        "operationId": "getPopularBooks",
        "parameters": [
          {
            "name": "request",
            "in": "query",
            "description": "인기 도서 목록 조회용 DTO<br>\n- **period**: 랭킹 기간 (DAILY, WEEKLY, MONTHLY, ALL_TIME, 기본값: DAILY)<br>\n- **direction**: 정렬 방향 (ASC, DESC, 기본값: ASC)<br>\n- **cursor**: 커서 페이지네이션을 위한 커서 값 (인기 도서 순위)<br>\n- **after**: createdAt 기준 보조 커서<br>\n- **limit**: 페이지 크기 (기본값: 50)\n",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/PopularBookGetRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "인기 도서 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PopularBookDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청(랭킹 기간 오류, 정렬 방향 오류 등)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/books/info": {
      "get": {
        "tags": [
          "도서 관리"
        ],
        "summary": "ISBN으로 도서 정보 조회",
        "description": "Naver API를 통해 ISBN으로 도서 정보를 조회합니다.",
        "operationId": "getBookInfoByIsbn",
        "parameters": [
          {
            "name": "isbn",
            "in": "query",
            "description": "ISBN 번호",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 9788968481901
          }
        ],
        "responses": {
          "200": {
            "description": "도서 정보 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NaverBookDto"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 ISBN 형식",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "도서 정보 없음",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/hard": {
      "delete": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "사용자 물리 삭제",
        "description": "사용자을 물리적으로 삭제합니다.",
        "operationId": "permanentDeleteUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "사용자 삭제 성공"
          },
          "404": {
            "description": "사용자 정보 없음"
          },
          "403": {
            "description": "사용자 삭제 권한 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/reviews/{reviewId}/hard": {
      "delete": {
        "tags": [
          "리뷰 관리"
        ],
        "summary": "리뷰 물리 삭제",
        "description": "본인이 작성한 리뷰을 물리적으로 삭제합니다.",
        "operationId": "permanentDeleteReview",
        "parameters": [
          {
            "name": "reviewId",
            "in": "path",
            "description": "리뷰 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "리뷰 삭제 성공"
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)"
          },
          "404": {
            "description": "리뷰 정보 없음"
          },
          "403": {
            "description": "리뷰 삭제 권한 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/comments/{commentId}/hard": {
      "delete": {
        "tags": [
          "댓글 관리"
        ],
        "summary": "댓글 물리 삭제",
        "description": "본인이 작성한 댓글을 물리적으로 삭제합니다.",
        "operationId": "permanentDeleteComment",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "description": "댓글 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "Deokhugam-Request-User-ID",
            "in": "header",
            "description": "요청자 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "댓글 삭제 성공"
          },
          "400": {
            "description": "잘못된 요청 (요청자 ID 누락)"
          },
          "404": {
            "description": "댓글 정보 없음"
          },
          "403": {
            "description": "댓글 삭제 권한 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        },
        "security": [
          {
            "CustomHeaderAuth": []
          }
        ]
      }
    },
    "/api/books/{bookId}/hard": {
      "delete": {
        "tags": [
          "도서 관리"
        ],
        "summary": "도서 물리 삭제",
        "description": "도서를 물리적으로 삭제합니다.",
        "operationId": "hardDelete",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "도서 ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "9a4d6e2b-8f53-4c8c-a7c7-21d5079b8b37"
          }
        ],
        "responses": {
          "204": {
            "description": "도서 삭제 성공"
          },
          "404": {
            "description": "도서 정보 없음"
          },
          "500": {
            "description": "서버 내부 오류"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UserCreateRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "minLength": 1
          },
          "nickname": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2
          },
          "password": {
            "type": "string",
            "minLength": 1,
            "pattern": "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,100}$"
          }
        },
        "required": [
          "email",
          "nickname",
          "password"
        ]
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nickname": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "isDeleted": {
            "type": "boolean"
          }
        }
      },
      "UserLoginRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "minLength": 1
          },
          "password": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "ReviewCreateRequest": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "type": "string",
            "minLength": 1
          },
          "rating": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        },
        "required": [
          "bookId",
          "content",
          "userId"
        ]
      },
      "ReviewDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "bookId": {
            "type": "string",
            "format": "uuid"
          },
          "bookTitle": {
            "type": "string"
          },
          "bookThumbnailUrl": {
            "type": "string"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "userNickname": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          },
          "likeCount": {
            "type": "integer",
            "format": "int64"
          },
          "commentCount": {
            "type": "integer",
            "format": "int64"
          },
          "likedByMe": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ContentDisposition": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "charset": {
            "type": "string"
          },
          "size": {
            "type": "integer",
            "format": "int64",
            "deprecated": true
          },
          "creationDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "modificationDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "readDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "formData": {
            "type": "boolean"
          },
          "attachment": {
            "type": "boolean"
          },
          "inline": {
            "type": "boolean"
          }
        }
      },
      "DefaultHttpStatusCode": {
        "allOf": [
          {
            "$ref": "#/components/schemas/HttpStatusCode"
          }
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "titleMessageCode": {
            "type": "string"
          },
          "detailMessageCode": {
            "type": "string"
          },
          "detailMessageArguments": {
            "type": "array",
            "items": {}
          },
          "typeMessageCode": {
            "type": "string"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "properties": {
              "allow": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpMethod"
                },
                "uniqueItems": true
              },
              "cacheControl": {
                "type": "string"
              },
              "contentLanguage": {
                "type": "string"
              },
              "etag": {
                "type": "string"
              },
              "acceptLanguage": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "range": {
                      "type": "string"
                    },
                    "weight": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              },
              "basicAuth": {
                "type": "string",
                "writeOnly": true
              },
              "accept": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MediaType"
                }
              },
              "acceptPatch": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MediaType"
                }
              },
              "bearerAuth": {
                "type": "string",
                "writeOnly": true
              },
              "connection": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "acceptCharset": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "expires": {
                "type": "integer",
                "format": "int64"
              },
              "pragma": {
                "type": "string"
              },
              "origin": {
                "type": "string"
              },
              "ifNoneMatch": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "ifMatch": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "upgrade": {
                "type": "string"
              },
              "vary": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "range": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpRange"
                }
              },
              "contentType": {
                "$ref": "#/components/schemas/MediaType"
              },
              "ifModifiedSince": {
                "type": "integer",
                "format": "int64"
              },
              "contentLength": {
                "type": "integer",
                "format": "int64"
              },
              "empty": {
                "type": "boolean"
              },
              "location": {
                "type": "string",
                "format": "uri"
              },
              "host": {
                "type": "object",
                "properties": {
                  "hostString": {
                    "type": "string"
                  },
                  "address": {
                    "type": "object",
                    "properties": {
                      "hostAddress": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string",
                        "format": "byte"
                      },
                      "hostName": {
                        "type": "string"
                      },
                      "linkLocalAddress": {
                        "type": "boolean"
                      },
                      "multicastAddress": {
                        "type": "boolean"
                      },
                      "anyLocalAddress": {
                        "type": "boolean"
                      },
                      "loopbackAddress": {
                        "type": "boolean"
                      },
                      "siteLocalAddress": {
                        "type": "boolean"
                      },
                      "mcglobal": {
                        "type": "boolean"
                      },
                      "mcnodeLocal": {
                        "type": "boolean"
                      },
                      "mclinkLocal": {
                        "type": "boolean"
                      },
                      "mcsiteLocal": {
                        "type": "boolean"
                      },
                      "mcorgLocal": {
                        "type": "boolean"
                      },
                      "canonicalHostName": {
                        "type": "string"
                      }
                    }
                  },
                  "port": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "unresolved": {
                    "type": "boolean"
                  },
                  "hostName": {
                    "type": "string"
                  }
                }
              },
              "all": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "writeOnly": true
              },
              "lastModified": {
                "type": "integer",
                "format": "int64"
              },
              "date": {
                "type": "integer",
                "format": "int64"
              },
              "accessControlRequestMethod": {
                "$ref": "#/components/schemas/HttpMethod"
              },
              "accessControlExposeHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlRequestHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlAllowCredentials": {
                "type": "boolean"
              },
              "accessControlAllowMethods": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpMethod"
                }
              },
              "accessControlAllowOrigin": {
                "type": "string"
              },
              "ifUnmodifiedSince": {
                "type": "integer",
                "format": "int64"
              },
              "accessControlMaxAge": {
                "type": "integer",
                "format": "int64"
              },
              "contentDisposition": {
                "$ref": "#/components/schemas/ContentDisposition"
              },
              "acceptLanguageAsLocales": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlAllowHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "statusCode": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/DefaultHttpStatusCode"
              },
              {
                "$ref": "#/components/schemas/HttpStatus"
              }
            ]
          },
          "body": {
            "$ref": "#/components/schemas/ProblemDetail"
          }
        }
      },
      "HttpMethod": {},
      "HttpRange": {},
      "HttpStatus": {
        "allOf": [
          {
            "$ref": "#/components/schemas/HttpStatusCode"
          }
        ],
        "enum": [
          "100 CONTINUE",
          "101 SWITCHING_PROTOCOLS",
          "102 PROCESSING",
          "103 EARLY_HINTS",
          "103 CHECKPOINT",
          "200 OK",
          "201 CREATED",
          "202 ACCEPTED",
          "203 NON_AUTHORITATIVE_INFORMATION",
          "204 NO_CONTENT",
          "205 RESET_CONTENT",
          "206 PARTIAL_CONTENT",
          "207 MULTI_STATUS",
          "208 ALREADY_REPORTED",
          "226 IM_USED",
          "300 MULTIPLE_CHOICES",
          "301 MOVED_PERMANENTLY",
          "302 FOUND",
          "302 MOVED_TEMPORARILY",
          "303 SEE_OTHER",
          "304 NOT_MODIFIED",
          "305 USE_PROXY",
          "307 TEMPORARY_REDIRECT",
          "308 PERMANENT_REDIRECT",
          "400 BAD_REQUEST",
          "401 UNAUTHORIZED",
          "402 PAYMENT_REQUIRED",
          "403 FORBIDDEN",
          "404 NOT_FOUND",
          "405 METHOD_NOT_ALLOWED",
          "406 NOT_ACCEPTABLE",
          "407 PROXY_AUTHENTICATION_REQUIRED",
          "408 REQUEST_TIMEOUT",
          "409 CONFLICT",
          "410 GONE",
          "411 LENGTH_REQUIRED",
          "412 PRECONDITION_FAILED",
          "413 PAYLOAD_TOO_LARGE",
          "413 REQUEST_ENTITY_TOO_LARGE",
          "414 URI_TOO_LONG",
          "414 REQUEST_URI_TOO_LONG",
          "415 UNSUPPORTED_MEDIA_TYPE",
          "416 REQUESTED_RANGE_NOT_SATISFIABLE",
          "417 EXPECTATION_FAILED",
          "418 I_AM_A_TEAPOT",
          "419 INSUFFICIENT_SPACE_ON_RESOURCE",
          "420 METHOD_FAILURE",
          "421 DESTINATION_LOCKED",
          "422 UNPROCESSABLE_ENTITY",
          "423 LOCKED",
          "424 FAILED_DEPENDENCY",
          "425 TOO_EARLY",
          "426 UPGRADE_REQUIRED",
          "428 PRECONDITION_REQUIRED",
          "429 TOO_MANY_REQUESTS",
          "431 REQUEST_HEADER_FIELDS_TOO_LARGE",
          "451 UNAVAILABLE_FOR_LEGAL_REASONS",
          "500 INTERNAL_SERVER_ERROR",
          "501 NOT_IMPLEMENTED",
          "502 BAD_GATEWAY",
          "503 SERVICE_UNAVAILABLE",
          "504 GATEWAY_TIMEOUT",
          "505 HTTP_VERSION_NOT_SUPPORTED",
          "506 VARIANT_ALSO_NEGOTIATES",
          "507 INSUFFICIENT_STORAGE",
          "508 LOOP_DETECTED",
          "509 BANDWIDTH_LIMIT_EXCEEDED",
          "510 NOT_EXTENDED",
          "511 NETWORK_AUTHENTICATION_REQUIRED"
        ]
      },
      "HttpStatusCode": {
        "type": "object",
        "properties": {
          "is4xxClientError": {
            "type": "boolean"
          },
          "is5xxServerError": {
            "type": "boolean"
          },
          "is3xxRedirection": {
            "type": "boolean"
          },
          "is1xxInformational": {
            "type": "boolean"
          },
          "is2xxSuccessful": {
            "type": "boolean"
          },
          "error": {
            "type": "boolean"
          }
        }
      },
      "MediaType": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "subtype": {
            "type": "string"
          },
          "parameters": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "qualityValue": {
            "type": "number",
            "format": "double"
          },
          "charset": {
            "type": "string"
          },
          "concrete": {
            "type": "boolean"
          },
          "wildcardType": {
            "type": "boolean"
          },
          "wildcardSubtype": {
            "type": "boolean"
          },
          "subtypeSuffix": {
            "type": "string"
          }
        }
      },
      "ProblemDetail": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "format": "uri"
          },
          "title": {
            "type": "string"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "detail": {
            "type": "string"
          },
          "instance": {
            "type": "string",
            "format": "uri"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "ReviewLikeDto": {
        "type": "object",
        "properties": {
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "liked": {
            "type": "boolean"
          }
        }
      },
      "CommentCreateRequest": {
        "type": "object",
        "properties": {
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "content",
          "reviewId",
          "userId"
        ]
      },
      "CommentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "userNickname": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "BookCreateRequest": {
        "type": "object",
        "description": "도서 정보",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 0
          },
          "author": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "description": {
            "type": "string",
            "minLength": 1
          },
          "publisher": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "isbn": {
            "type": "string",
            "maxLength": 13,
            "minLength": 0
          }
        },
        "required": [
          "author",
          "description",
          "publishedDate",
          "publisher",
          "title"
        ]
      },
      "BookDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "publisher": {
            "type": "string"
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "isbn": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "reviewCount": {
            "type": "integer",
            "format": "int64"
          },
          "rating": {
            "type": "number",
            "format": "double"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserUpdateRequest": {
        "type": "object",
        "properties": {
          "nickname": {
            "type": "string",
            "maxLength": 20,
            "minLength": 2
          }
        },
        "required": [
          "nickname"
        ]
      },
      "ReviewUpdateRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1
          },
          "rating": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        },
        "required": [
          "content"
        ]
      },
      "NotificationDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "type": "string"
          },
          "confirmed": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CommentUpdateRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "content"
        ]
      },
      "BookUpdateRequest": {
        "type": "object",
        "description": "수정할 도서 정보",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 0
          },
          "author": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "description": {
            "type": "string",
            "minLength": 1
          },
          "publisher": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          }
        },
        "required": [
          "author",
          "description",
          "publishedDate",
          "publisher",
          "title"
        ]
      },
      "PopularReviewDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "bookId": {
            "type": "string",
            "format": "uuid"
          },
          "bookTitle": {
            "type": "string"
          },
          "bookThumbnailUrl": {
            "type": "string"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "userNickname": {
            "type": "string"
          },
          "reviewContent": {
            "type": "string"
          },
          "reviewRating": {
            "type": "number",
            "format": "double"
          },
          "period": {
            "type": "string",
            "enum": [
              "DAILY",
              "WEEKLY",
              "MONTHLY",
              "ALL_TIME"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "rank": {
            "type": "integer",
            "format": "int64"
          },
          "score": {
            "type": "number",
            "format": "double"
          },
          "likeCount": {
            "type": "integer",
            "format": "int64"
          },
          "commentCount": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ReviewGetRequest": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "bookId": {
            "type": "string",
            "format": "uuid"
          },
          "keyword": {
            "type": "string"
          },
          "cursor": {},
          "after": {
            "type": "string",
            "format": "date-time"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          },
          "orderBy": {
            "type": "string"
          },
          "direction": {
            "type": "string"
          }
        }
      },
      "NotificationGetRequest": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "direction": {
            "type": "string"
          },
          "cursor": {
            "type": "string",
            "format": "uuid"
          },
          "after": {
            "type": "string",
            "format": "date-time"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "maximum": 100,
            "minimum": 1
          }
        }
      },
      "PopularBookGetRequest": {
        "type": "object",
        "properties": {
          "period": {
            "type": "string",
            "enum": [
              "DAILY",
              "WEEKLY",
              "MONTHLY",
              "ALL_TIME"
            ]
          },
          "direction": {
            "type": "string"
          },
          "cursor": {
            "type": "string"
          },
          "after": {
            "type": "string"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PopularBookDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "bookId": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "period": {
            "type": "string",
            "enum": [
              "DAILY",
              "WEEKLY",
              "MONTHLY",
              "ALL_TIME"
            ]
          },
          "rank": {
            "type": "integer",
            "format": "int64"
          },
          "score": {
            "type": "number",
            "format": "double"
          },
          "reviewCount": {
            "type": "integer",
            "format": "int64"
          },
          "rating": {
            "type": "number",
            "format": "double"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "NaverBookDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "publisher": {
            "type": "string"
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "isbn": {
            "type": "string"
          },
          "thumbnailImage": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "CustomHeaderAuth": {
        "type": "apiKey",
        "name": "Deokhugam-Request-User-ID",
        "in": "header"
      }
    }
  }
}